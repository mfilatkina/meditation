{"version":3,"file":"static/js/307.2974cade.chunk.js","mappings":"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","sources":["components/settingsTimer/SettingsTimer.js","components/modal/Modal.js","resources/icons/timer/start.svg","resources/icons/timer/pause.svg","resources/icons/timer/stop.svg","resources/icons/timer/reset.svg","components/timerAnimation/TimerAnimation.js","pages/Timer.js","services/firebase.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { useContext, useState } from \"react\";\r\nimport { TimerContext } from \"../../context/TimerContext\";\r\n\r\nimport \"./settingsTimer.scss\";\r\nimport \"./settingsTimerMedia.scss\";\r\n\r\nfunction SetTimer({ defaultTime }) {\r\n  const [time, setTime] = useState(defaultTime);\r\n  const { dispatch } = useContext(TimerContext);\r\n\r\n  const changeTime = (e) => {\r\n    setTime(+e.target.value);\r\n  };\r\n\r\n  const startTimer = () => {\r\n    dispatch({ type: \"SET_TIME\", payload: time });\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings-timer\">\r\n      <div className=\"settings-timer__value\">\r\n        {time}\r\n        <span>мин.</span>\r\n      </div>\r\n      <input\r\n        type=\"range\"\r\n        min=\"1\"\r\n        max=\"60\"\r\n        value={time}\r\n        name=\"range\"\r\n        step=\"1\"\r\n        onChange={changeTime}\r\n        className=\"settings-timer__slider\"\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        onClick={startTimer}\r\n        className=\"btn settings-timer__start\"\r\n      >\r\n        Старт\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSetTimer.propTypes = {\r\n  defaultTime: PropTypes.number,\r\n};\r\n\r\nSetTimer.defaultProps = {\r\n  defaultTime: \"0\",\r\n};\r\n\r\nexport default SetTimer;\r\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./modal.scss\";\r\n\r\nfunction Modal({ active, setActive, children }) {\r\n  const close = () => {\r\n    setActive(false);\r\n  };\r\n\r\n  const clickContent = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const classesModal = active ? \"modal active\" : \"modal\";\r\n  const classesContent = active ? \"modal__content active\" : \"modal__content\";\r\n\r\n  return (\r\n    <div className={classesModal} onClick={close}>\r\n      <div className={classesContent} onClick={clickContent}>\r\n        <button\r\n          type=\"button\"\r\n          className=\"modal__close\"\r\n          aria-label=\"Close\"\r\n          onClick={close}\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n        <div>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  active: PropTypes.bool,\r\n  setActive: PropTypes.func,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nModal.defaultProps = {\r\n  active: false,\r\n  setActive: () => {},\r\n};\r\n\r\nexport default Modal;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 27 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"play3\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#be483e\",\n    d: \"M6 4l20 12-20 12z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStart);\nexport default __webpack_public_path__ + \"static/media/start.929dc31154eeebdffe2b013f9d3f888f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"pause2\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#be483e\",\n    d: \"M4 4h10v24h-10zM18 4h10v24h-10z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.dc02db5188b7b80dc85cbfe8d97bf7a7.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStop(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"stop2\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#be483e\",\n    d: \"M4 4h24v24h-24z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStop);\nexport default __webpack_public_path__ + \"static/media/stop.5f4ae1d3e5627c95a0b2088248a679e1.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgReset(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"reload\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#be483e\",\n    d: \"M24 18c0 4.41-3.586 8-8 8s-8-3.59-8-8 3.586-8 8-8l2.359 0.027-1.164 1.164 2.828 2.828 6.012-6.019-6.012-6-2.828 2.828 1.18 1.172h-2.375c-6.625 0-12 5.371-12 12s5.375 12 12 12 12-5.371 12-12h-4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgReset);\nexport default __webpack_public_path__ + \"static/media/reset.196c0e3c39c105f1fa7a25b21f9ecb80.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { TimerContext } from \"../../context/TimerContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { saveMeditationTime } from \"../../services/firebase\";\r\nimport Modal from \"../modal/Modal\";\r\n\r\nimport startIcon from \"../../resources/icons/timer/start.svg\";\r\nimport pauseIcon from \"../../resources/icons/timer/pause.svg\";\r\nimport stopIcon from \"../../resources/icons/timer/stop.svg\";\r\nimport resetIcon from \"../../resources/icons/timer/reset.svg\";\r\n\r\nimport \"./timerAnimation.scss\";\r\nimport \"./timerAnimationMedia.scss\";\r\n\r\nfunction TimerAnimation({ time, secondsLeft }) {\r\n  const [isPaused, setIsPaused] = useState(true);\r\n  const [modalActive, setModalActive] = useState(false);\r\n  const [savingTime, setSavingTime] = useState(false);\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { dispatch } = useContext(TimerContext);\r\n\r\n  const tick = () => {\r\n    dispatch({ type: \"CHANGE_LEFT_TIME\", payload: secondsLeft - 1 });\r\n  };\r\n\r\n  const start = () => {\r\n    setIsPaused(false);\r\n  };\r\n\r\n  const stop = () => {\r\n    setIsPaused(true);\r\n    setModalActive(true);\r\n  };\r\n\r\n  const pause = () => {\r\n    setIsPaused(true);\r\n  };\r\n\r\n  const reset = () => {\r\n    setIsPaused(true);\r\n    dispatch({ type: \"RESET_TIMER\" });\r\n  };\r\n\r\n  const closeTimer = () => {\r\n    dispatch({ type: \"STOP_TIMER\" });\r\n  };\r\n\r\n  const saveTime = async () => {\r\n    const allSeconds = time * 60;\r\n    const meditationSeconds = allSeconds - secondsLeft;\r\n    setSavingTime(true);\r\n    await saveMeditationTime(currentUser, meditationSeconds);\r\n    setSavingTime(false);\r\n    closeTimer();\r\n  };\r\n\r\n  function addZero(num) {\r\n    if (num < 10) {\r\n      return `0${num}`;\r\n    }\r\n\r\n    return num;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if (isPaused) {\r\n        return;\r\n      }\r\n      tick();\r\n    }, 1000);\r\n\r\n    if (secondsLeft === 0) {\r\n      clearInterval(interval);\r\n    }\r\n\r\n    return () => clearInterval(interval);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isPaused, secondsLeft]);\r\n\r\n  const minutes = addZero(Math.floor(secondsLeft / 60));\r\n  const seconds = addZero(secondsLeft % 60);\r\n\r\n  return (\r\n    <div className=\"timer\">\r\n      <div className=\"timer__time\">\r\n        <span>\r\n          {minutes}:{seconds}\r\n        </span>\r\n      </div>\r\n      <div className=\"timer__buttons\">\r\n        <button type=\"button\" className=\"timer__btn\" onClick={reset}>\r\n          <img src={resetIcon} alt=\"Reset\" />\r\n        </button>\r\n        {isPaused || !secondsLeft ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"timer__btn timer__btn-main\"\r\n            onClick={start}\r\n          >\r\n            <img src={startIcon} alt=\"Start\" />\r\n          </button>\r\n        ) : (\r\n          <button\r\n            type=\"button\"\r\n            className=\"timer__btn timer__btn-main\"\r\n            onClick={pause}\r\n          >\r\n            <img src={pauseIcon} alt=\"Pause\" />\r\n          </button>\r\n        )}\r\n        <button type=\"button\" className=\"timer__btn\" onClick={stop}>\r\n          <img src={stopIcon} alt=\"Stop\" />\r\n        </button>\r\n      </div>\r\n      <Modal active={modalActive} setActive={setModalActive}>\r\n        <span className=\"modal__title\">Сохранить время медитации?</span>\r\n        <div className=\"modal__buttons\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-dark\"\r\n            disabled={savingTime}\r\n            onClick={closeTimer}\r\n          >\r\n            Не сохранять\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn\"\r\n            disabled={savingTime}\r\n            onClick={saveTime}\r\n          >\r\n            Сохранить\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nTimerAnimation.propTypes = {\r\n  time: PropTypes.number,\r\n  secondsLeft: PropTypes.number,\r\n};\r\n\r\nTimerAnimation.defaultProps = {\r\n  time: \"0\",\r\n  secondsLeft: \"0\",\r\n};\r\n\r\nexport default TimerAnimation;\r\n","import { useContext } from \"react\";\r\nimport { TimerContext } from \"../context/TimerContext\";\r\n\r\nimport SettingsTimer from \"../components/settingsTimer/SettingsTimer\";\r\nimport TimerAnimation from \"../components/timerAnimation/TimerAnimation\";\r\n\r\nfunction Timer() {\r\n  const { time, secondsLeft, showSettings } = useContext(TimerContext);\r\n  return (\r\n    <div>\r\n      {showSettings ? (\r\n        <SettingsTimer defaultTime={time} />\r\n      ) : (\r\n        <TimerAnimation time={time} secondsLeft={secondsLeft} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Timer;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getAuth,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  getDocs,\r\n  doc,\r\n  getDoc,\r\n  query,\r\n  where,\r\n  setDoc,\r\n  addDoc,\r\n  updateDoc,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport {\r\n  getStorage,\r\n  ref,\r\n  uploadBytes,\r\n  getDownloadURL,\r\n  deleteObject,\r\n} from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: \"meditation-b02d2.firebaseapp.com\",\r\n  projectId: \"meditation-b02d2\",\r\n  storageBucket: \"meditation-b02d2.appspot.com\",\r\n  messagingSenderId: \"69484463235\",\r\n  appId: \"1:69484463235:web:12f03ae9d88e84728587b6\",\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst auth = getAuth();\r\nconst storage = getStorage();\r\n\r\n// auth\r\n\r\nexport const registration = async (name, email, password) => {\r\n  const res = await createUserWithEmailAndPassword(auth, email, password);\r\n  await setDoc(doc(db, \"users\", res.user.uid), {\r\n    name,\r\n    email,\r\n    password,\r\n    timeStamp: serverTimestamp(),\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const login = async (email, password) => {\r\n  const res = await signInWithEmailAndPassword(auth, email, password);\r\n  return res;\r\n};\r\n\r\n// lessons\r\n\r\nconst getDataLesson = (dataLesson) => {\r\n  const lesson = dataLesson.data();\r\n  return {\r\n    id: dataLesson.id,\r\n    number: lesson.number,\r\n    name: lesson.name,\r\n    thumbnail: lesson.thumbnail,\r\n    complete: lesson.complete,\r\n  };\r\n};\r\n\r\nconst getCompleteLessons = async (userId) => {\r\n  const lessons = [];\r\n\r\n  const progressQuery = query(\r\n    collection(db, \"user_progress\"),\r\n    where(\"userId\", \"==\", userId),\r\n  );\r\n  const userProgress = await getDocs(progressQuery);\r\n\r\n  userProgress.forEach((data) => {\r\n    lessons.push(data.data().lessonId);\r\n  });\r\n\r\n  return lessons;\r\n};\r\n\r\nconst getLessons = async () => {\r\n  const list = [];\r\n  const lessons = await getDocs(collection(db, \"lessons\"));\r\n  lessons.forEach((data) => {\r\n    list.push(getDataLesson(data));\r\n  });\r\n\r\n  return list;\r\n};\r\n\r\nexport const getAllLessons = async (userId) => {\r\n  const lessons = await getLessons();\r\n  const completeLessons = await getCompleteLessons(userId);\r\n  const list = lessons.map((lesson) => {\r\n    if (completeLessons.includes(lesson.id)) {\r\n      return { ...lesson, complete: true };\r\n    }\r\n    return lesson;\r\n  });\r\n\r\n  list.sort((a, b) => (a.number > b.number ? 1 : -1));\r\n  return list;\r\n};\r\n\r\nexport const getLesson = async (id) => {\r\n  const docRef = doc(db, \"lessons\", id);\r\n  const docSnap = await getDoc(docRef);\r\n  return docSnap.data();\r\n};\r\n\r\nexport const setCompleteLesson = async (userId, lessonId, complete) => {\r\n  if (complete) {\r\n    return;\r\n  }\r\n\r\n  await addDoc(collection(db, \"user_progress\"), {\r\n    userId,\r\n    lessonId,\r\n    complete: true,\r\n    timeStamp: serverTimestamp(),\r\n  });\r\n};\r\n\r\n// timer\r\n\r\nexport const saveMeditationTime = async (userId, seconds) => {\r\n  await addDoc(collection(db, \"meditation_time\"), {\r\n    userId,\r\n    seconds,\r\n    timeStamp: serverTimestamp(),\r\n  });\r\n};\r\n\r\n// user data\r\n\r\nconst getUserRef = (userId) => {\r\n  return doc(db, \"users\", userId);\r\n};\r\n\r\nexport const uploadFile = async (file, name) => {\r\n  const storageRef = ref(storage, name);\r\n  const url = await uploadBytes(storageRef, file)\r\n    .then((res) => getDownloadURL(res.ref))\r\n    .catch(() => {\r\n      return \"\";\r\n    });\r\n  return url;\r\n};\r\n\r\nexport const getUserData = async (userId) => {\r\n  const userRef = getUserRef(userId);\r\n  const docSnap = await getDoc(userRef);\r\n  return docSnap.data();\r\n};\r\n\r\nexport const meditationTime = async (userId) => {\r\n  let time = 0;\r\n\r\n  const timeQuery = query(\r\n    collection(db, \"meditation_time\"),\r\n    where(\"userId\", \"==\", userId),\r\n  );\r\n  const userTime = await getDocs(timeQuery);\r\n\r\n  userTime.forEach((data) => {\r\n    time += data.data().seconds;\r\n  });\r\n\r\n  // convert sec to min\r\n  time = Math.floor(time / 60);\r\n\r\n  return time;\r\n};\r\n\r\nexport const allUserData = async (userId) => {\r\n  const dataUser = await getUserData(userId);\r\n  const time = await meditationTime(userId);\r\n\r\n  return { ...dataUser, time };\r\n};\r\n\r\nexport const changeUserPhoto = async (userId, file, name) => {\r\n  try {\r\n    const { pathPhoto } = await getUserData(userId);\r\n    const userRef = getUserRef(userId);\r\n\r\n    // upload user photo to storage\r\n    const url = await uploadFile(file, name);\r\n    if (!url) {\r\n      return \"\";\r\n    }\r\n\r\n    // set the photo url and path to data user\r\n    await updateDoc(userRef, {\r\n      photo: url,\r\n      pathPhoto: name,\r\n    });\r\n\r\n    // remove old photo\r\n    if (pathPhoto) {\r\n      const oldPhotoRef = ref(storage, pathPhoto);\r\n      await deleteObject(oldPhotoRef);\r\n    }\r\n    return url;\r\n  } catch {\r\n    return \"\";\r\n  }\r\n};\r\n"],"names":["SetTimer","defaultTime","useState","time","setTime","dispatch","useContext","TimerContext","className","type","min","max","value","name","step","onChange","e","target","onClick","payload","defaultProps","Modal","active","setActive","children","close","classesModal","classesContent","stopPropagation","TimerAnimation","secondsLeft","isPaused","setIsPaused","modalActive","setModalActive","savingTime","setSavingTime","currentUser","AuthContext","closeTimer","saveTime","meditationSeconds","saveMeditationTime","addZero","num","useEffect","interval","setInterval","clearInterval","minutes","Math","floor","seconds","src","resetIcon","alt","startIcon","pauseIcon","stopIcon","disabled","showSettings","SettingsTimer","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","storage","getStorage","registration","email","password","createUserWithEmailAndPassword","res","setDoc","doc","user","uid","timeStamp","serverTimestamp","login","signInWithEmailAndPassword","getDataLesson","dataLesson","lesson","data","id","number","thumbnail","complete","getCompleteLessons","userId","lessons","progressQuery","query","collection","where","getDocs","forEach","push","lessonId","getLessons","list","getAllLessons","completeLessons","map","includes","sort","a","b","getLesson","docRef","getDoc","docSnap","setCompleteLesson","addDoc","getUserRef","uploadFile","file","storageRef","ref","uploadBytes","then","getDownloadURL","catch","url","getUserData","userRef","meditationTime","timeQuery","allUserData","dataUser","changeUserPhoto","pathPhoto","updateDoc","photo","oldPhotoRef","deleteObject"],"sourceRoot":""}